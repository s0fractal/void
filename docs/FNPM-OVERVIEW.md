# FNPM Overview

Fractal Node Package Manager - A quantum-inspired package manager for the Void ecosystem.

## WASM Morphisms & CID Resolution

FNPM now supports WebAssembly morphisms via content-addressed storage:

### Morphism Format
```json
{
  "morphism": {
    "type": "wasm",
    "target": {
      "cid": "bafkrei..."  // OR astHash: "sha256:..."
    },
    "entry": "add(i32, i32) -> i32",
    "labels": ["pure", "deterministic"]
  }
}
```

### Resolution Flow
1. **Manifest Index**: Check local chimera-output manifests
2. **Cache**: Look in ~/.fnpm/cache/wasm/
3. **IPFS**: Query local IPFS node if available  
4. **HTTP Gateways**: Fallback to public gateways

### Security
- Double verification: SHA256 + CID
- Size limits enforced
- Timeout protection
- All features disabled by default

### Usage
```bash
# Enable WASM features
export FNPM_WASM_ENABLED=1

# Pull module
fnpm wasm pull bafkrei...

# Check resolution
fnpm resolve morphism.json
```

## Integration with Chimera

FNPM reads manifest.json files generated by the Chimera WASM builder:

```json
{
  "version": "chimera.v1",
  "genes": [{
    "name": "add",
    "lang": "tinygo", 
    "cid": "bafkrei...",
    "sha256": "...",
    "size": 1234
  }]
}
```

## Future: Protein Hash (PR-D)

When AST hash lookups fail, FNPM will use Protein Hash for similarity search:
- Find "similar" functions based on semantic fingerprint
- Suggest alternatives with confidence scores
- Enable cross-language function discovery