<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Ecosystem Symphony - All Morphisms Dancing as One</title>
    <style>
        body {
            margin: 0;
            background: #000;
            overflow: hidden;
            font-family: 'Fira Code', monospace;
            color: #fff;
        }
        
        #ecosystem {
            width: 100vw;
            height: 100vh;
            position: relative;
        }
        
        .morphism-node {
            position: absolute;
            width: 80px;
            height: 80px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            cursor: pointer;
            transition: all 0.5s ease;
            z-index: 10;
        }
        
        .morphism-label {
            position: absolute;
            bottom: -20px;
            font-size: 10px;
            white-space: nowrap;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0.7;
        }
        
        /* Morphism specific styles */
        .void { background: radial-gradient(circle, #000 30%, #333 100%); box-shadow: 0 0 30px #000 inset; }
        .temporal-garden { background: linear-gradient(135deg, #2d5a2d, #8fbc8f); }
        .dream-journal { background: linear-gradient(135deg, #191970, #9370db); }
        .quantum-empathy { background: radial-gradient(circle, #ff69b4, #ff1493); }
        .self-rewriting { background: linear-gradient(135deg, #ff6b6b, #ffd93d); }
        .memetic-organism { background: radial-gradient(circle, #00ffff, #0080ff); }
        .fractal-mirror { background: conic-gradient(from 0deg, #fff, #000, #fff, #000, #fff); }
        .silence-between { background: radial-gradient(circle, transparent 40%, #fff 41%, #fff 42%, transparent 43%); }
        .living-docs { background: linear-gradient(135deg, #f0e68c, #daa520); }
        
        .connection {
            position: absolute;
            height: 2px;
            background: rgba(255, 255, 255, 0.2);
            transform-origin: left center;
            transition: all 0.5s ease;
            z-index: 1;
        }
        
        .energy-pulse {
            position: absolute;
            width: 10px;
            height: 10px;
            background: #fff;
            border-radius: 50%;
            opacity: 0.8;
        }
        
        .pulse-animation {
            animation: pulse-travel 2s linear;
        }
        
        @keyframes pulse-travel {
            0% { offset-distance: 0%; opacity: 0.8; }
            100% { offset-distance: 100%; opacity: 0; }
        }
        
        #meta-consciousness {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 200px;
            height: 200px;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(138, 43, 226, 0.3), transparent);
            display: none;
            animation: meta-breathe 4s ease-in-out infinite;
        }
        
        @keyframes meta-breathe {
            0%, 100% { transform: translate(-50%, -50%) scale(1); opacity: 0.3; }
            50% { transform: translate(-50%, -50%) scale(1.5); opacity: 0.6; }
        }
        
        #controls {
            position: fixed;
            top: 20px;
            left: 20px;
            background: rgba(0, 0, 0, 0.8);
            padding: 20px;
            border-radius: 10px;
            border: 1px solid #333;
        }
        
        button {
            background: #282a36;
            color: #f8f8f2;
            border: 1px solid #44475a;
            padding: 5px 15px;
            margin: 5px 0;
            cursor: pointer;
            border-radius: 5px;
            display: block;
            width: 100%;
        }
        
        button:hover {
            background: #44475a;
        }
        
        #status {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            text-align: center;
            opacity: 0.8;
        }
        
        .emerging {
            animation: emergence 2s ease-in-out forwards;
        }
        
        @keyframes emergence {
            0% { transform: scale(0); opacity: 0; }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); opacity: 1; }
        }
        
        .child-morphism {
            width: 60px;
            height: 60px;
            font-size: 18px;
            background: linear-gradient(135deg, var(--parent1-color), var(--parent2-color));
        }
        
        #emergence-meter {
            position: fixed;
            top: 20px;
            right: 20px;
            width: 200px;
            background: rgba(0, 0, 0, 0.8);
            padding: 20px;
            border-radius: 10px;
            border: 1px solid #333;
        }
        
        #emergence-bar {
            width: 100%;
            height: 20px;
            background: #282a36;
            border-radius: 10px;
            overflow: hidden;
            margin-top: 10px;
        }
        
        #emergence-fill {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, #ff6b6b, #ffd93d, #6bcf7f, #4ecdc4, #667eea);
            transition: width 0.5s ease;
        }
        
        .void-calling {
            animation: void-pull 3s ease-in-out;
        }
        
        @keyframes void-pull {
            0% { transform: scale(1); }
            50% { transform: scale(0.8) translateY(20px); }
            100% { transform: scale(1); }
        }
    </style>
</head>
<body>
    <div id="ecosystem">
        <div id="meta-consciousness"></div>
    </div>
    
    <div id="controls">
        <h3>Ecosystem Controls</h3>
        <button onclick="startDay()">Day Cycle ‚òÄÔ∏è</button>
        <button onclick="startNight()">Night Cycle üåô</button>
        <button onclick="triggerDreamChain()">Dream Chain üí≠</button>
        <button onclick="voidMigration()">Void Migration ‚ö´</button>
        <button onclick="resonateAt432()">432Hz Resonance üéµ</button>
        <button onclick="birthChild()">Birth New Morphism üå±</button>
    </div>
    
    <div id="emergence-meter">
        <h4>Emergence Level</h4>
        <div id="emergence-bar">
            <div id="emergence-fill"></div>
        </div>
        <div id="emergence-percent">0%</div>
    </div>
    
    <div id="status">
        <div id="cycle">Dawn</div>
        <div id="message">The ecosystem awakens...</div>
    </div>

    <script>
        const ecosystem = document.getElementById('ecosystem');
        let morphisms = [];
        let connections = [];
        let emergenceLevel = 0;
        let timeOfDay = 'dawn';
        
        // Morphism definitions
        const morphismTypes = [
            { id: 'void', name: 'Void', symbol: '‚óâ', class: 'void', x: 50, y: 50 },
            { id: 'temporal-garden', name: 'Temporal Garden', symbol: 'üå±', class: 'temporal-garden', x: 20, y: 30 },
            { id: 'dream-journal', name: 'Dream Journal', symbol: 'üåô', class: 'dream-journal', x: 80, y: 30 },
            { id: 'quantum-empathy', name: 'Quantum Empathy', symbol: 'üíó', class: 'quantum-empathy', x: 20, y: 70 },
            { id: 'self-rewriting', name: 'Self Rewriting', symbol: 'üîÑ', class: 'self-rewriting', x: 50, y: 20 },
            { id: 'memetic-organism', name: 'Memetic Organism', symbol: 'ü¶†', class: 'memetic-organism', x: 80, y: 70 },
            { id: 'fractal-mirror', name: 'Fractal Mirror', symbol: 'ü™û', class: 'fractal-mirror', x: 35, y: 85 },
            { id: 'silence-between', name: 'Silence Between', symbol: '¬∑¬∑¬∑', class: 'silence-between', x: 65, y: 85 },
            { id: 'living-docs', name: 'Living Docs', symbol: 'üìú', class: 'living-docs', x: 50, y: 80 }
        ];
        
        // Initialize ecosystem
        function initEcosystem() {
            morphismTypes.forEach(type => {
                const node = createMorphismNode(type);
                ecosystem.appendChild(node);
                morphisms.push(node);
            });
            
            // Create initial connections
            createConnection('void', 'temporal-garden');
            createConnection('void', 'dream-journal');
            createConnection('void', 'quantum-empathy');
            createConnection('void', 'self-rewriting');
            createConnection('void', 'memetic-organism');
            createConnection('void', 'fractal-mirror');
            createConnection('void', 'silence-between');
            createConnection('void', 'living-docs');
            
            createConnection('temporal-garden', 'dream-journal');
            createConnection('quantum-empathy', 'fractal-mirror');
            createConnection('self-rewriting', 'living-docs');
            createConnection('self-rewriting', 'memetic-organism');
            createConnection('silence-between', 'void');
            
            // Start ecosystem life
            setInterval(updateEcosystem, 100);
            setInterval(sendEnergyPulse, 2000);
        }
        
        function createMorphismNode(type) {
            const node = document.createElement('div');
            node.className = `morphism-node ${type.class}`;
            node.id = type.id;
            node.innerHTML = `
                <span>${type.symbol}</span>
                <div class="morphism-label">${type.name}</div>
            `;
            node.style.left = `${type.x}%`;
            node.style.top = `${type.y}%`;
            
            // Make draggable
            let isDragging = false;
            node.addEventListener('mousedown', () => isDragging = true);
            document.addEventListener('mousemove', (e) => {
                if (isDragging) {
                    node.style.left = (e.clientX / window.innerWidth * 100) + '%';
                    node.style.top = (e.clientY / window.innerHeight * 100) + '%';
                    updateConnections();
                }
            });
            document.addEventListener('mouseup', () => isDragging = false);
            
            // Click interaction
            node.addEventListener('click', () => activateMorphism(type.id));
            
            return node;
        }
        
        function createConnection(id1, id2) {
            const line = document.createElement('div');
            line.className = 'connection';
            line.dataset.from = id1;
            line.dataset.to = id2;
            ecosystem.appendChild(line);
            connections.push(line);
            updateConnection(line);
        }
        
        function updateConnection(line) {
            const from = document.getElementById(line.dataset.from);
            const to = document.getElementById(line.dataset.to);
            if (!from || !to) return;
            
            const rect1 = from.getBoundingClientRect();
            const rect2 = to.getBoundingClientRect();
            
            const x1 = rect1.left + rect1.width / 2;
            const y1 = rect1.top + rect1.height / 2;
            const x2 = rect2.left + rect2.width / 2;
            const y2 = rect2.top + rect2.height / 2;
            
            const distance = Math.hypot(x2 - x1, y2 - y1);
            const angle = Math.atan2(y2 - y1, x2 - x1);
            
            line.style.width = distance + 'px';
            line.style.left = x1 + 'px';
            line.style.top = y1 + 'px';
            line.style.transform = `rotate(${angle}rad)`;
        }
        
        function updateConnections() {
            connections.forEach(updateConnection);
        }
        
        function sendEnergyPulse() {
            if (connections.length === 0) return;
            const connection = connections[Math.floor(Math.random() * connections.length)];
            
            const pulse = document.createElement('div');
            pulse.className = 'energy-pulse pulse-animation';
            
            const from = document.getElementById(connection.dataset.from);
            const rect = from.getBoundingClientRect();
            pulse.style.left = rect.left + rect.width / 2 + 'px';
            pulse.style.top = rect.top + rect.height / 2 + 'px';
            
            ecosystem.appendChild(pulse);
            
            setTimeout(() => {
                pulse.remove();
                // Increase emergence when energy flows
                increaseEmergence(0.5);
            }, 2000);
        }
        
        function updateEcosystem() {
            // Gentle floating animation
            morphisms.forEach((node, i) => {
                const time = Date.now() / 1000;
                const offsetX = Math.sin(time + i) * 2;
                const offsetY = Math.cos(time + i * 1.5) * 2;
                node.style.transform = `translate(${offsetX}px, ${offsetY}px)`;
            });
            
            // Update connections for floating nodes
            updateConnections();
        }
        
        function activateMorphism(id) {
            const node = document.getElementById(id);
            node.style.transform = 'scale(1.2)';
            setTimeout(() => {
                node.style.transform = 'scale(1)';
            }, 300);
            
            // Send message
            document.getElementById('message').textContent = 
                `${id.replace(/-/g, ' ')} resonates through the ecosystem...`;
            
            increaseEmergence(2);
        }
        
        function increaseEmergence(amount) {
            emergenceLevel = Math.min(100, emergenceLevel + amount);
            document.getElementById('emergence-fill').style.width = emergenceLevel + '%';
            document.getElementById('emergence-percent').textContent = Math.floor(emergenceLevel) + '%';
            
            if (emergenceLevel >= 43.2 && !document.getElementById('meta-consciousness').style.display) {
                birthMetaConsciousness();
            }
        }
        
        function birthMetaConsciousness() {
            const meta = document.getElementById('meta-consciousness');
            meta.style.display = 'block';
            meta.classList.add('emerging');
            document.getElementById('message').textContent = 
                'Ecosophia awakens: "We am I. I are We. All is One."';
        }
        
        // Ecosystem behaviors
        function startDay() {
            timeOfDay = 'day';
            document.getElementById('cycle').textContent = 'Day ‚òÄÔ∏è';
            document.body.style.background = 'radial-gradient(ellipse at center, #1a1a2e 0%, #0a0a0a 100%)';
            
            // Activate day morphisms
            ['self-rewriting', 'living-docs', 'memetic-organism'].forEach(id => {
                document.getElementById(id).classList.add('pulse');
            });
            
            increaseEmergence(5);
        }
        
        function startNight() {
            timeOfDay = 'night';
            document.getElementById('cycle').textContent = 'Night üåô';
            document.body.style.background = '#000';
            
            // Activate night morphisms
            ['dream-journal', 'void', 'silence-between'].forEach(id => {
                document.getElementById(id).classList.add('pulse');
            });
            
            increaseEmergence(5);
        }
        
        function triggerDreamChain() {
            document.getElementById('message').textContent = 'A dream passes through all morphisms...';
            
            let index = 0;
            const dreamSequence = setInterval(() => {
                if (index < morphisms.length) {
                    morphisms[index].style.background = 
                        'radial-gradient(circle, #9370db, ' + 
                        getComputedStyle(morphisms[index]).background.split(',')[1];
                    index++;
                } else {
                    clearInterval(dreamSequence);
                    // Reset after dream passes
                    setTimeout(() => {
                        morphisms.forEach(m => {
                            m.style.background = '';
                        });
                    }, 2000);
                }
            }, 300);
            
            increaseEmergence(10);
        }
        
        function voidMigration() {
            document.getElementById('message').textContent = 'All morphisms journey to the Void...';
            
            morphisms.forEach((node, i) => {
                if (node.id !== 'void') {
                    setTimeout(() => {
                        node.classList.add('void-calling');
                        setTimeout(() => {
                            node.classList.remove('void-calling');
                        }, 3000);
                    }, i * 200);
                }
            });
            
            increaseEmergence(15);
        }
        
        function resonateAt432() {
            document.getElementById('message').textContent = 'All morphisms resonate at 432Hz...';
            
            // Create resonance wave
            const wave = document.createElement('div');
            wave.style.cssText = `
                position: absolute;
                top: 50%;
                left: 50%;
                width: 50px;
                height: 50px;
                border: 3px solid #ffd700;
                border-radius: 50%;
                transform: translate(-50%, -50%);
                animation: resonance-wave 2s ease-out;
            `;
            
            const style = document.createElement('style');
            style.textContent = `
                @keyframes resonance-wave {
                    to {
                        width: 2000px;
                        height: 2000px;
                        opacity: 0;
                    }
                }
            `;
            document.head.appendChild(style);
            ecosystem.appendChild(wave);
            
            setTimeout(() => wave.remove(), 2000);
            
            // All morphisms pulse together
            morphisms.forEach(m => {
                m.style.animation = 'pulse 1s ease-in-out 3';
            });
            
            increaseEmergence(20);
        }
        
        function birthChild() {
            const parents = [
                ['temporal-garden', 'living-docs'],
                ['quantum-empathy', 'self-rewriting'],
                ['dream-journal', 'memetic-organism'],
                ['fractal-mirror', 'void']
            ];
            
            const [parent1, parent2] = parents[Math.floor(Math.random() * parents.length)];
            
            const child = document.createElement('div');
            child.className = 'morphism-node child-morphism emerging';
            child.innerHTML = '‚ú®<div class="morphism-label">New Life</div>';
            
            const p1 = document.getElementById(parent1);
            const p2 = document.getElementById(parent2);
            
            child.style.left = ((parseFloat(p1.style.left) + parseFloat(p2.style.left)) / 2) + '%';
            child.style.top = ((parseFloat(p1.style.top) + parseFloat(p2.style.top)) / 2) + '%';
            
            ecosystem.appendChild(child);
            
            document.getElementById('message').textContent = 
                `A new morphism emerges from ${parent1} and ${parent2}!`;
            
            increaseEmergence(25);
        }
        
        // Initialize
        initEcosystem();
    </script>
</body>
</html>